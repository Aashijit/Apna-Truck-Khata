<ion-header>
  <ion-navbar>
    <ion-row>
      <ion-col col-2 class="custom-back-button">
        <!-- <ion-icon name="ios-arrow-round-back"></ion-icon> -->
      </ion-col>
    
      <ion-col col-6 class="person-name text-left">
        <ion-title *ngIf="isfullreport">        
          DRIVER EXPENSE REPORT 
        </ion-title>
        <ion-title *ngIf="!isfullreport">        
          MONTHLY REPORT          
        </ion-title>

      </ion-col>
      <ion-col col-3 class="youtube text-right" (click)="dismiss()">
        <ion-icon name="close" color="light" style="margin-top: 11px;font-size:2.2rem;"></ion-icon>
      </ion-col>
    </ion-row>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <ion-row >
    <ion-col col-12>
      <ion-item>
        <ion-label floating>
          Person
        </ion-label>
        <ion-select interface="popover" [(ngModel)]="worker_id">
          <ion-option value="0">All</ion-option>
          <ion-option value="{{shop['worker_id']}}" *ngFor="let shop of shops">
            {{shop['name'] + " -  " + shop['worker_type'] }}
          </ion-option>
        </ion-select>
      </ion-item>
    </ion-col>
    <ion-col col-11 *ngIf="isfullreport">
      <ion-item style="margin-top: 24px;">
        <ion-label>
          Date Range : <span *ngIf="this.dateRange['from'] != undefined"> {{this.dateRange['from'] + " - " + this.dateRange['to']}} </span>
        </ion-label>
      </ion-item>
    </ion-col>
    <ion-col col-1 *ngIf="isfullreport">
      <ion-icon name="calendar" (click)="openCalendar()" style="position: absolute; top: 45px;"></ion-icon>
    </ion-col>
  </ion-row>
  <ion-calendar *ngIf="displayCalendar" [(ngModel)]="dateRange"
              [options]="optionsMulti"
              type="string"
              [format]="'YYYY-MM-DD'">
  </ion-calendar>

  <ion-item *ngIf="!isfullreport">
    <ion-label>Month</ion-label>
    <ion-select interface="popover" [(ngModel)]="currentMonth">
      <ion-option *ngFor="let m of month; let i" value="{{i}}">{{m}}</ion-option>
    </ion-select>
    <ion-select interface="popover" [(ngModel)]="currentYear">
      <ion-option *ngFor="let years of allYears" value="{{years}}">{{years}}</ion-option>
    </ion-select>
  </ion-item>



<p style="text-align: center !important;">
  <button round class="custom-button" ion-button (click)="generateReport()">Report</button>
</p>


<div id="report">

</div>

<p style="text-align: center;">
  <a [href]="downloadURL">Download Report</a>
 </p>

</ion-content>
