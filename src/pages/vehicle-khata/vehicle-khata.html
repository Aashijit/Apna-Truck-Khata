
<!-- Vehicle Khata -->
<ion-header>
  <ion-navbar>
    <ion-row>
      <ion-col col-2 class="custom-back-button">
        <!-- <ion-icon name="ios-arrow-round-back"></ion-icon> -->
      </ion-col>
      
      <ion-col col-6 class="person-name text-left">
        <ion-title>        
          <i class="fa fa-car" aria-hidden="true"></i>
          VEHICLE KHATA
        </ion-title>

      </ion-col>
      <ion-col col-1></ion-col>
      <ion-col col-3 class="youtube">
        <img src="../../assets/saarthi-icon/png/youtube.png" alt="" >
      </ion-col>
    </ion-row>
  </ion-navbar>
</ion-header>

<ion-content padding>

  <ion-row class="document-button justify-content-center">
    <ion-col col-12 (click)="navCtrl.push('VehicleWorkReportPage')">
      <div>
        VEHICLE WORK REPORT
        <i class="fa fa-download" aria-hidden="true"></i>

      </div>
    </ion-col>

    <ion-col col-12 (click)="navCtrl.push('VehicleBillReportPage')">
      <div>
        VEHICLE BILL REPORT
        <i class="fa fa-download" aria-hidden="true"></i>

      </div>
    </ion-col>

    
 
  </ion-row>

  <div class="container vehicle-khata">
   
    <ion-row class="vehicle-filter">
      <ion-col col-4>
        <div [ngClass]="isselect == '1' ? 'vehicle-driver-selected' : 'vehicle-driver'" (click)="select('1')">
          VEHICLE WITH DRIVER
        </div>
      </ion-col>
      <ion-col col-4>
        <div [ngClass]="isselect == '2' ? 'vehicle-no-driver-selected' : 'vehicle-no-driver'"  (click)="select('2')">
          VEHICLE WITHOUT DRIVER
        </div>
      </ion-col>
      <ion-col col-4>
        <div [ngClass]="isselect == '3' ? 'all-vehicle-selected' : 'all-vehicle'" (click)="select('3')">
          ALL VEHICLE 
        </div>
      </ion-col>
    </ion-row>

    <!-- [ngClass]=" vh['selected']==false ? 'vehicle-details' : 'vehicle-details-selected'"s -->
    <div *ngIf="isselect == '3'">
    <ion-grid *ngFor="let vh of vehicles" (click)="selectedvehicle(vh)"  >
    <ion-row class="vehicle-details" >
      <ion-col col-12>
        <h4>{{vh['vehicle_number']}} 
          <span style="float: right ;">
            <button ion-button clear color="danger" style="position: absolute;right: 13px;bottom: 15px;" (click)="presentConfirmDelete(vh)">
              <ion-icon name="trash"></ion-icon>
            </button>
          </span>
        </h4>



        <hr>
      </ion-col>
      <ion-row (click)="openVehicleDetails(vh)" style="padding-left: 13px !important;">
      <ion-col col-6 >
        <p>DRIVER NAME:</p> 
        <span *ngIf="vh['driver_details'] != undefined && vh['driver_details'] != null">{{vh['driver_details']['name']}}</span>
      </ion-col>
      <ion-col col-6>
        <p> CONTACT NO: </p>
        <span *ngIf="vh['driver_details'] != undefined && vh['driver_details'] != null">{{vh['driver_details']['phone_number']}}</span>
      </ion-col>
      <ion-col col-6>
        <p> VEHICLE BODY TYPE: </p>
        <span >{{vh['vehicle_type']}}</span>
      </ion-col>
      <ion-col col-6>
        <p> VEHICLE WEIGHT: </p>
        <span >{{vh['vehicle_weight']+" "+vh['vehicle_weight_type']}}</span>
      </ion-col>
    </ion-row>
    </ion-row>

    </ion-grid>
  </div>

  <div *ngIf="isselect == '2'">
    <ion-grid *ngFor="let vh of vehiclenodrivers" (click)="selectedvehicle(vh)"  >
    <ion-row class="vehicle-details" >
      <ion-col col-12>
        <h4>{{vh['vehicle_number']}} 
          <span style="float: right ;">
            <button ion-button clear color="danger" style="position: absolute;right: 13px;bottom: 15px;" (click)="presentConfirmDelete(vh)">
              <ion-icon name="trash"></ion-icon>
            </button>
          </span>
        </h4>



        <hr>
      </ion-col>
      <ion-row (click)="openVehicleDetails(vh)" style="padding-left: 13px !important;">
      <ion-col col-6 >
        <p>DRIVER NAME:</p> 
        <span *ngIf="vh['driver_details'] != undefined && vh['driver_details'] != null">{{vh['driver_details']['name']}}</span>
      </ion-col>
      <ion-col col-6>
        <p> CONTACT NO: </p>
        <span *ngIf="vh['driver_details'] != undefined && vh['driver_details'] != null">{{vh['driver_details']['phone_number']}}</span>
      </ion-col>
      <ion-col col-6>
        <p> VEHICLE BODY TYPE: </p>
        <span >{{vh['vehicle_type']}}</span>
      </ion-col>
      <ion-col col-6>
        <p> VEHICLE WEIGHT: </p>
        <span >{{vh['vehicle_weight']+" "+vh['vehicle_weight_type']}}</span>
      </ion-col>
    </ion-row>
    </ion-row>

    </ion-grid>
  </div>

  <div *ngIf="isselect == '1'">
    <ion-grid *ngFor="let vh of vehicledrivers" (click)="selectedvehicle(vh)"  >
    <ion-row class="vehicle-details" >
      <ion-col col-12>
        <h4>{{vh['vehicle_number']}} 
          <span style="float: right ;">
            <button ion-button clear color="danger" style="position: absolute;right: 13px;bottom: 15px;" (click)="presentConfirmDelete(vh)">
              <ion-icon name="trash"></ion-icon>
            </button>
          </span>
        </h4>



        <hr>
      </ion-col>
      <ion-row (click)="openVehicleDetails(vh)" style="padding-left: 13px !important;">
      <ion-col col-6 >
        <p>DRIVER NAME:</p> 
        <span *ngIf="vh['driver_details'] != undefined && vh['driver_details'] != null">{{vh['driver_details']['name']}}</span>
      </ion-col>
      <ion-col col-6>
        <p> CONTACT NO: </p>
        <span *ngIf="vh['driver_details'] != undefined && vh['driver_details'] != null">{{vh['driver_details']['phone_number']}}</span>
      </ion-col>
      <ion-col col-6>
        <p> VEHICLE BODY TYPE: </p>
        <span >{{vh['vehicle_type']}}</span>
      </ion-col>
      <ion-col col-6>
        <p> VEHICLE WEIGHT: </p>
        <span >{{vh['vehicle_weight']+" "+vh['vehicle_weight_type']}}</span>
      </ion-col>
    </ion-row>
    </ion-row>

    </ion-grid>
  </div>
    <div class="text-center">
      <button ion-button round class="custom-button" (click)="openAddVehiclePage()">+ ADD NEW VEHICLE</button>
    </div>


  </div>



</ion-content> 
