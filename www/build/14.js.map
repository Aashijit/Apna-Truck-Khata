{"version":3,"sources":["../../src/pages/shop-bill-details/shop-bill-details.module.ts","../../src/pages/shop-bill-details/shop-bill-details.ts"],"names":[],"mappings":"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","file":"14.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ShopBillDetailsPage } from './shop-bill-details';\n\n@NgModule({\n  declarations: [\n    ShopBillDetailsPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ShopBillDetailsPage),\n  ],\n})\nexport class ShopBillDetailsPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/shop-bill-details/shop-bill-details.module.ts","import { MessageProvider } from './../../providers/message/message';\nimport { RestProvider } from './../../providers/rest/rest';\nimport { CodesProvider } from './../../providers/codes/codes';\nimport { Component, ElementRef, ViewChild } from '@angular/core';\nimport { IonicPage, ViewController, ModalController, NavController, NavParams, LoadingController, Select } from 'ionic-angular';\n\n\n\n@IonicPage()\n@Component({\n  selector: 'page-shop-bill-details',\n  templateUrl: 'shop-bill-details.html',\n})\nexport class ShopBillDetailsPage {\n\n  @ViewChild('selectBill') selectbill : Select;\n\n\n  vari : any = '';\n  isSelectedBill : boolean = false;\n  header_name : any = '';\n  worker_type : any = '';\n\n  problems_parts : any = '';\n  bill : any = '';\n  bills : any = [];\n  bill_id : any= '';\n  date_of_repair : any = '';\n  details : any = '';\n  km_reading : any = '';\n  img : any = null;\n\n\n\n  constructor(private viewController : ViewController,\n    public navCtrl: NavController, public navParams: NavParams, public modalCtrl: ModalController, private codes : CodesProvider,\n    private rest : RestProvider, private message : MessageProvider, private ldctrl : LoadingController) {\n\n\n      this.worker_type = this.navParams.get(\"worker_type\");\n      if(this.worker_type == 'mechanic')\n        this.header_name = 'MECHANIC REPAIR DETALLS';\n      else \n        this.header_name = 'PARTS BILL DETALLS';\n\n\n      this.getBillsBySrthId();\n      \n\n\n      var objRec = localStorage.getItem(\"bill_details\");\n\n      var isupd = this.navParams.get(\"update\");\n\n      if(objRec != undefined && objRec != null && isupd == 'true') {\n        this.isSelectedBill = true;\n        this.bill = JSON.parse(objRec);\n        this.details = this.bill['bill_details'];\n        this.date_of_repair = this.bill['date_of_repair'];\n        this.km_reading = this.bill['km_reading'];\n\n        console.error(\"CHECK : \"+JSON.stringify(this.bill));\n\n        var total = 0.00;\n\n        for(let i=0;i<this.bill['problems_parts'].length;i++){\n          total = total + Number(this.bill['problems_parts'][i]['rate']);\n          this.bill['problems_parts'][i]['parts'] = [];\n        }\n\n     \n\n        for(let i=0;i<this.bill['problems_parts'].length;i++){\n          var parts = {\n            \"part_name\":this.bill['problems_parts'][i]['part_name'],\n            \"rate_per_pc\":this.bill['problems_parts'][i]['rate'],\n            \"is_full\":false,\n            \"qty\":this.bill['problems_parts'][i]['qty'],\n            \"id\":this.bill['problems_parts'][i]['id_details'],\n            \"total\":total\n          };\n          this.bill['problems_parts'][i]['parts'].push(parts);\n        }\n        this.problems_parts = this.bill['problems_parts'];\n      }\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad ShopBillDetailsPage');\n  }\n\n  openCameraPopup() {\n\n    if(this.bill == '') {\n      this.message.displayToast(\"Please select a bill\");\n      return;\n    }\n\n    var data = {\n      \"bill_id\":this.bill_id,\n      \"person_shop_name\":this.bill['person_shop_name'],\n      \"vehicle_id\":this.bill['vehicle_id'],\n      \"bill_date\":this.bill['bill_date'],\n      \"worker_type\":'shop',\n      \"bill_details\":this.bill['bill_details']\n    };\n    var json = JSON.parse(localStorage.getItem(this.codes.K_ACCOUNT_INFO));\n \n    var data2 = {\n      \"srth_id\":json[0]['srth_id'],\n      \"worker_type\":\"mechanic\",\n      \"worker_id\":this.bill['worker_id'],\n      \"document_type\":\"mbill\",\n      \"type\":\"bills\",\n      \"file_name\":json[0]['srth_id']+\"_\"+Date.now()+\".jpg\",\n      \"tags\":JSON.stringify(data)\n    }\n   \n    let cameraModalPage = this.modalCtrl.create('UploadImagePage',{\"request\":data2,\"image\":this.img});\n\n    cameraModalPage.onDidDismiss(resp => {\n      this.img = JSON.parse(localStorage.getItem(\"selectedimage\"));\n    });\n    \n    cameraModalPage.present();\n  }\n\n  // openCameraPopup() {\n  //   var type = this.worker_type == 'mechanic' ? 'mbills' : 'sbills';\n  //   let cameraModalPage = this.modalCtrl.create('AllImageKhataPage',{\"isselect\":true,\"type\":type});\n\n  //   cameraModalPage.onDidDismiss(resp => {\n  //     this.img = JSON.parse(localStorage.getItem(\"selectedimage\"));\n  //   });\n    \n  //   cameraModalPage.present();\n  // }\n\n  openCalendarPopup() {\n    let calendarModalPage = this.modalCtrl.create('CalendarModalPage');\n\n    calendarModalPage.onDidDismiss(data=> {\n      this.date_of_repair = localStorage.getItem(this.codes.DATE);\n    });\n\n    calendarModalPage.present();\n  }\n\n  \n\n\n  change(bill_id){\n    this.isSelectedBill = true;\n    for(let i=0;i<this.bills.length;i++){\n      if(this.bills[i]['bill_id'] == bill_id){\n        this.bill = this.bills[i];\n        this.details = this.bill['bill_details'];\n        this.date_of_repair = this.bill['bill_date'];\n\n        if(this.bill['image'] != undefined && this.bill['image'] != null){\n          this.img = this.bill['image'];\n          // var dt = {\n          //   \"image_id\" : this.bill['bill_image_id']\n          // };\n          // this.rest.post(this.codes.GET_IMAGE_BY_IMAGE_ID, dt).then(resp => {\n          //   if(resp['_ReturnCode'] == '0')\n          //     this.img = resp['data'][0];\n          // });\n        }\n\n      }\n    }\n  }\n\n  changeagain(){\n    // this.selectbill.open();\n    this.isSelectedBill = false;\n  }\n\n  getBillsBySrthId(){\n    var bls_temp = \"\";\n    if(this.worker_type == 'shop')\n       bls_temp = localStorage.getItem(\"shop_bills\");\n    else if(this.worker_type == 'mechanic')\n       bls_temp = localStorage.getItem(\"mechanic_bills\");\n\n    if(bls_temp != undefined  && bls_temp != null && bls_temp != \"\") {\n      this.bills = JSON.parse(bls_temp);\n    } else {\n    var json = JSON.parse(localStorage.getItem(this.codes.K_ACCOUNT_INFO));\n    let ld = this.ldctrl.create({\n      'content':'Loading the bills ...'\n    });\n    ld.present();\n    var data = {\n      \"srth_id\":json[0]['srth_id'],\n      \"worker_type\":this.worker_type\n    };\n\n    this.rest.post(this.codes.GET_EXPENSE_BILL_BY_SRTH_ID,data).then(resp => {\n      ld.dismiss();\n      if(resp['_ReturnCode'] == '0'){\n        this.bills = resp['data'];\n      }\n    });\n  }\n  }\n\n  addParts(vr){\n\n    if(vr == 'save') { \n    let partsBillDetailModal = this.modalCtrl.create('PartsBillDetailsModalPage',{\"worker_type\":this.worker_type,\"image\":this.img,\"bill\":this.bill,\"action\":\"save\"});\n\n    partsBillDetailModal.onDidDismiss(data => {\n        this.problems_parts = JSON.parse(localStorage.getItem(\"problem_part\"));      \n        console.error(JSON.stringify(this.problems_parts));\n    });\n\n    partsBillDetailModal.present();\n    }  else {\n      let partsBillDetailModal = this.modalCtrl.create('PartsBillDetailsModalPage',{\"worker_type\":this.worker_type,\"image\":this.img,\"bill\":this.bill,\"action\":\"edit\",\"problem_part\":this.problems_parts});\n\n      partsBillDetailModal.onDidDismiss(data => {\n          this.problems_parts = JSON.parse(localStorage.getItem(\"problem_part\"));      \n          console.error(JSON.stringify(this.problems_parts));\n      });\n  \n      partsBillDetailModal.present();\n    }\n  }\n    \n\n  openShopBillDetailsPage() {\n    this.navCtrl.push('ShopBillDescriptionPage');\n  }\n\n  openDetailPopup() {\n    let detailsModalPage = this.modalCtrl.create('DetailsModalPage');\n    detailsModalPage.present();\n  }\n\n\n  saveShopBillDetails() {\n    for(let i=0;i<this.problems_parts.length;i++){\n      this.problems_parts[i]['date_of_repair'] = this.date_of_repair;\n      this.problems_parts[i]['additional_info'] = this.details;\n      this.problems_parts[i]['km_reading'] = this.km_reading;\n      this.problems_parts[i]['mechanic_name'] = '';\n      this.problems_parts[i]['mechanic_phone_number'] = '';\n      this.problems_parts[i]['bill_image_id'] = this.img != undefined ?  this.img['image_id'] : '0';\n    }\n    console.log(JSON.stringify(this.problems_parts));\n    this.rest.post(this.codes.SAVE_PROBLEM_PARTS,this.problems_parts).then(resp => {\n      if(resp['_ReturnCode'] == '0'){\n        this.message.displayToast('Saved the problem part of this bill successfully!');\n        this.navCtrl.pop();\n      }\n    }); \n\n  }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/shop-bill-details/shop-bill-details.ts"],"sourceRoot":""}