{"version":3,"sources":["../../src/pages/upload-image/upload-image.module.ts","../../src/pages/upload-image/upload-image.ts"],"names":[],"mappings":"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","file":"9.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { UploadImagePage } from './upload-image';\n\n@NgModule({\n  declarations: [\n    UploadImagePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(UploadImagePage),\n  ],\n})\nexport class UploadImagePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/upload-image/upload-image.module.ts","import { PhotoViewer } from '@ionic-native/photo-viewer';\nimport { CodesProvider } from './../../providers/codes/codes';\nimport { RestProvider } from './../../providers/rest/rest';\nimport { Camera, CameraOptions } from '@ionic-native/camera';\nimport { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController, LoadingController } from 'ionic-angular';\nimport { s } from '@angular/core/src/render3';\n\n\n@IonicPage()\n@Component({\n  selector: 'page-upload-image',\n  templateUrl: 'upload-image.html',\n})\nexport class UploadImagePage {\n\n  data : any = '';\n  uploadImage : any = '';\n  imgtagcloud : any = '';\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, \n    private view : ViewController,private cm : Camera, private ldcontroller : LoadingController, \n    private rest : RestProvider, private codes : CodesProvider, private photoViewer : PhotoViewer) {\n    \n      this.data = this.navParams.get(\"request\");\n\n      var dt = this.navParams.get('image');\n\n      if(dt != null) {\n        this.uploadImage = dt['image_url'];\n      }\n\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad UploadImagePage');\n  }\n\n  camera(){\n    this.getImage(\"camera\");\n  }\n\n  gallery() {\n    this.getImage(\"gallery\");\n  }\n\n  viewImage() {\n      this.photoViewer.show(this.uploadImage,this.imgtagcloud, {share: true});\n  }\n  \n  deleteImage() {\n    this.uploadImage = '';\n    localStorage.removeItem(\"selectedimage\");\n  }\n\n  getImage(img) {\n\n    if(img == 'camera'){\n      const options: CameraOptions = {\n        quality: 10,\n        destinationType: this.cm.DestinationType.DATA_URL,\n        encodingType: this.cm.EncodingType.JPEG,\n        mediaType: this.cm.MediaType.PICTURE,\n        sourceType:this.cm.PictureSourceType.CAMERA\n      }    \n\n      this.cm.getPicture(options).then((imageData) => {\n        let base64Image = 'data:image/jpeg;base64,' + imageData;\n        this.uploadImage = base64Image;\n\n        let ldcon =  this.ldcontroller.create({\n          content: 'Saving the image ... '\n        });\n    \n        ldcon.present();\n\n        this.data['image_content'] = this.uploadImage;\n\n        this.rest.post(this.codes.SAVE_IMAGE,this.data).then(resp => {\n          localStorage.setItem(\"selectedimage\",JSON.stringify(resp['data']));\n          ldcon.dismiss();\n          this.view.dismiss();\n        });\n\n\n       }, (err) => {\n        // Handle error\n       });\n\n    }else {\n      const options: CameraOptions = {\n        quality: 10,\n        destinationType: this.cm.DestinationType.DATA_URL,\n        encodingType: this.cm.EncodingType.JPEG,\n        mediaType: this.cm.MediaType.PICTURE,\n        sourceType:this.cm.PictureSourceType.PHOTOLIBRARY\n      }  \n\n      this.cm.getPicture(options).then((imageData) => {\n        let base64Image = 'data:image/jpeg;base64,' + imageData;\n        this.uploadImage = base64Image;\n\n        let ldcon =  this.ldcontroller.create({\n          content: 'Saving the image ... '\n        });\n    \n        ldcon.present();\n\n        this.data['image_content'] = this.uploadImage;\n\n        this.rest.post(this.codes.SAVE_IMAGE,this.data).then(resp => {\n          localStorage.setItem(\"selectedimage\",JSON.stringify(resp['data']));\n          ldcon.dismiss();\n          this.view.dismiss();\n        });\n\n\n\n       }, (err) => {\n        // Handle error\n       });\n\n    }\n  }\n\n  close(){\n    this.view.dismiss();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/upload-image/upload-image.ts"],"sourceRoot":""}