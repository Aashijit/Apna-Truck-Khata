{"version":3,"sources":["../../src/pages/home/home.module.ts","../../src/pages/home/home.ts"],"names":[],"mappings":"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","file":"37.js","sourcesContent":["import { HomePage } from './home';\nimport { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\n\n@NgModule({\n  declarations: [\n    HomePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(HomePage),\n  ],\n})\nexport class HomePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.module.ts","import { Push, PushObject, PushOptions } from '@ionic-native/push';\nimport { RestProvider } from './../../providers/rest/rest';\nimport { CodesProvider } from './../../providers/codes/codes';\nimport { Component, ViewChild } from '@angular/core';\nimport { NavController, IonicPage, Slides, Platform } from 'ionic-angular';\nimport { convertToObject } from 'typescript';\n\n@IonicPage()\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html'\n})\nexport class HomePage { \n\n  name : any = '';\n  fuel : any = '';\n  notifications : any = [];\n\n  @ViewChild(Slides) slides: Slides;\n\n  slideOptsOne = {\n    initialSlide: 0,\n    slidesPerView: 1,\n    autoplay:true\n  };\n\n\n  constructor(public navCtrl: NavController, private codes : CodesProvider,private rest : RestProvider, \n    private push : Push, private platform : Platform) {\n    var acc = JSON.parse(localStorage.getItem(this.codes.K_ACCOUNT_INFO));\n    \n    if(localStorage.getItem(\"name\") != undefined && localStorage.getItem(\"name\") != null) {\n    var data = {\n      \"srth_id\" : acc[0]['srth_id']\n    };\n\n    this.rest.post(this.codes.GET_PROFILE,data).then(resp => {\n      localStorage.setItem(\"name\",resp['data'][0]['name']);\n      this.name = resp['data'][0]['name'];\n    });\n  }\n    this.name = localStorage.getItem(\"name\");\n  }\n\n  ionViewWillEnter(){\n    this.refresh();\n    this.initPushNotification();\n  }\n\n  initPushNotification() {\n    if (!this.platform.is('cordova')) {\n      console.warn('Push notifications not initialized. Cordova is not available - Run in physical device');\n      return;\n    }\n    const options: PushOptions = {\n      android: {\n        senderID: '1092655619979'\n      },\n      ios: {\n        alert: 'true',\n        badge: false,\n        sound: 'true'\n      },\n      windows: {}\n    };\n    const pushObject: PushObject = this.push.init(options);\n\n    pushObject.on('registration').subscribe((data: any) => {\n      console.log('device token -> ' + data.registrationId);\n\n      var acc = JSON.parse(localStorage.getItem(this.codes.K_ACCOUNT_INFO));\n    \n      data = {\n        \"srth_id\" : acc[0]['srth_id'],\n        \"fcm\" : data.registrationId,\n        \"last_maint_id\":\"srth_ws\",\n        \"opt_counter\":\"0\"\n      };\n\n      this.rest.post(this.codes.SAVE_NOTIFICATION_FCM_TOKEN,data).then(resp => {\n        console.log(\"Successfully Stored\");\n      });\n\n    });\n\n    pushObject.on('error').subscribe(error => console.error('Error with Push plugin' + error));\n  }\n\n  goToActionPage(page, objectId) {\n    if(page=='DocumentAddBill') {\n      var dt = {\n        \"document_id\":objectId\n      }\n      this.rest.post(this.codes.GET_DOCUMENT_INFO_BY_DOCUMENT_ID,dt).then(resp => {\n        this.navCtrl.push('DocumentRenewalPage',{'document':resp['data']});\n      });\n    }\n  }\n\n\n  refresh(){\n\n    var json = JSON.parse(localStorage.getItem(this.codes.K_ACCOUNT_INFO));\n\n    var data = {\n      \"srth_id\":json[0]['srth_id']\n    };\n\n    this.rest.post(this.codes.GET_NOTIFICATIONS,data).then(resp=> {\n      if(resp != null) {\n        if(resp['data'] != []) {\n          var n = resp['data'];\n          this.notifications = n;\n        }\n      }\n    });\n\n\n    // this.rest.get(this.codes.GET_FUEL_PRICES,{}).then(resp => {\n    //   if(resp != [])\n    //   this.fuel = resp[0]['products'];\n    //  });\n  }\n\n  openProfilePage() {\n    this.navCtrl.push('ProfilePage');\n  }\n\n  openVehicleKhata() {\n    this.navCtrl.push('VehicleKhataPage');\n  }\n\n  openDriverKhata() {\n    this.navCtrl.push('DriverKhataPage');\n  }\n\n  openDocumentAndInsurance() {\n    this.navCtrl.push('DocumentAndInsurancePage');\n  }\n\n  openDocumentBill() {\n    this.navCtrl.push('AddDocumentBillPage');\n  }\n\n  openEditProfilePage() {\n    this.navCtrl.push('EditProfilePage');\n  }\n\n  openLanguagePage() {\n    this.navCtrl.push('LanguagePage');\n  }\n\n  openSettingsPage() {\n    this.navCtrl.push('SettingsPage');\n\n  }\n\n  openDriverPage() {\n    this.navCtrl.push('DriverPage');\n  }\n\n  openAddNewBankPage() {\n    this.navCtrl.push('AddNewBankAccountPage');\n  }\n\n  openSecurityAndBackup() {\n    this.navCtrl.push('SecurityAndBackupPage');\n  }\n\n  openAddDriverPage() {\n    this.navCtrl.push('AddDriverPage');\n  }\n\n  openAddMechanicPage() {\n    this.navCtrl.push('AddMechanicPage');\n  }\n\n  openLedgerPage() {\n    this.navCtrl.push('LedgerPage');\n  }\n\n  openVehicleDetailsPage() {\n    this.navCtrl.push('VehicleDetailsPage');\n  }\n\n  openDriverDocumentPage() {\n    this.navCtrl.push('DriverDocumentPage');\n  }\n\n  openAddDriverExpensePage() {\n    this.navCtrl.push('AddDriverExpensesPage');\n  }\n\n  openComplaintKhata() {\n    this.navCtrl.push('ComplaintsKhataPage');\n  }\n\n  openMechanicalKhata() {\n    this.navCtrl.push('MechanicKhataPage');\n  }\n\n  openShopKhata() {\n    this.navCtrl.push('ShopKhataPage' );\n  }\n\n  openAllImageKhata() {\n    this.navCtrl.push('AllImageKhataPage');\n  }\n\n  openReportKhata() {\n    this.navCtrl.push('ReportKhataPage');\n  }\n\n  openBillDetails() {\n    this.navCtrl.push('BillDetailsPage');\n  }\n\n  openAccountKhata() {\n    this.navCtrl.push('AccountKhataPage');\n  }\n\n  openVehicleDocument() {\n    this.navCtrl.push('VehicleDocumentPage');\n  }\n  \n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts"],"sourceRoot":""}