{"version":3,"sources":["../../src/pages/problem-work-part-modal/problem-work-part-modal.module.ts","../../src/pages/problem-work-part-modal/problem-work-part-modal.ts"],"names":[],"mappings":"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","file":"26.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ProblemWorkPartModalPage } from './problem-work-part-modal';\n\n@NgModule({\n  declarations: [\n    ProblemWorkPartModalPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ProblemWorkPartModalPage),\n  ],\n})\nexport class ProblemWorkPartModalPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/problem-work-part-modal/problem-work-part-modal.module.ts","import { CodesProvider } from './../../providers/codes/codes';\nimport { RestProvider } from './../../providers/rest/rest';\nimport { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController } from 'ionic-angular';\nimport { ParseSourceFile } from '@angular/compiler';\n\n@IonicPage()\n@Component({\n  selector: 'page-problem-work-part-modal',\n  templateUrl: 'problem-work-part-modal.html',\n})\nexport class ProblemWorkPartModalPage {\n\n  problem : any ='';\n  part : any = '';\n  id : any = '';\n  searchTerm :any = '';\n\n  addWorkPart : Boolean = false;\n\n  problems : any = [];\n  filterproblems : any = [];\n\n  selectedProblems : any = [];\n\n  constructor(private viewController : ViewController,\n    public navCtrl: NavController, public navParams: NavParams, private rest : RestProvider, private codes : CodesProvider) {\n    this.getrepair();\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad ProblemWorkPartModalPage');\n  }\n\n  saverepair(){\n    var userinfo = JSON.parse(localStorage.getItem(this.codes.K_ACCOUNT_INFO));\n\n    var data = {\n      \"srth_id\":userinfo[0]['srth_id'],\n      \"problem_name\":this.problem,\n      \"vehicle_part_name\":this.part,\n      \"vehicle_part_id\":this.id,\n      \"last_maint_id\":\"srth-app\",\n      \"opt_counter\":\"0\"\n    };\n\n    this.rest.post(this.codes.SAVE_PROBLEM, data).then(resp => {\n      if(resp['_ReturnCode'] == '0'){\n        this.addWorkPart = false;\n        this.getrepair();\n      }\n    });\n  }\n\n  getrepair(){\n    var userinfo = JSON.parse(localStorage.getItem(this.codes.K_ACCOUNT_INFO));\n\n    var data = {\n      \"srth_id\":userinfo[0]['srth_id']\n    };\n\n    this.rest.post(this.codes.GET_PROBLEM, data).then(resp => {\n      if(resp['_ReturnCode'] == '0'){\n        this.problems = resp['data'];\n        var prb_sel = this.navParams.get(\"problems\");\n        for(let i=0;i<this.problems.length;i++){\n          this.problems[i]['selected'] = false;\n          if(prb_sel != undefined && prb_sel != null) {\n            for(let j=0;j<prb_sel.length;j++) {\n              if(prb_sel[j]['problem_id'] == this.problems[i]['problem_id']) {\n                this.problems[i]['selected'] = true;\n                this.problems[i]['parts'] = prb_sel[j]['parts'];\n              }\n             \n            }\n          }\n        }\n      }\n    });\n  }\n\n  problemsSelected(){\n    var prblems = [];\n    //Fetch the parts\n    var parts = [];\n    for(let i=0;i<this.problems.length;i++) {\n      if(this.problems[i]['parts'] != undefined && this.problems[i]['parts'] != null && this.problems[i]['parts'] != []) {\n        parts = this.problems[i]['parts'];\n        break;\n      }\n    }\n    for(let i=0;i<this.problems.length;i++){\n      if(this.problems[i]['selected'] == true){\n        this.problems[i]['parts'] = parts;\n        prblems.push(this.problems[i]);\n      }\n    }\n    localStorage.setItem(\"problem_id\",JSON.stringify(prblems));\n    this.viewController.dismiss();\n  }\n\n  selectedProblem(problem){\n\n    localStorage.setItem(\"problem_id\",problem['problem_id']);\n    this.viewController.dismiss();\n\n  }\n\n  filterList(event){\n    this.filterproblems = this.problems.filter(wp => {\n      if (this.searchTerm != '') {\n        return (wp.problem_name.toLowerCase().indexOf(this.searchTerm.toLowerCase()) > -1);\n      }\n      else \n        return this.problems;\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/problem-work-part-modal/problem-work-part-modal.ts"],"sourceRoot":""}