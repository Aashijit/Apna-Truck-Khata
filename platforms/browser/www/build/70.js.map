{"version":3,"sources":["../../src/pages/add-complaints/add-complaints.module.ts","../../src/pages/add-complaints/add-complaints.ts"],"names":[],"mappings":"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","file":"70.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { AddComplaintsPage } from './add-complaints';\n\n@NgModule({\n  declarations: [\n    AddComplaintsPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(AddComplaintsPage),\n  ],\n})\nexport class AddComplaintsPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/add-complaints/add-complaints.module.ts","import { RestProvider } from './../../providers/rest/rest';\nimport { CodesProvider } from './../../providers/codes/codes';\nimport { Component } from '@angular/core';\nimport { IonicPage, NavController, ModalController, NavParams } from 'ionic-angular';\n\n@IonicPage()\n@Component({\n  selector: 'page-add-complaints',\n  templateUrl: 'add-complaints.html',\n})\nexport class AddComplaintsPage {\n\n  vari: any = '';\n  isSelectedBill: boolean = false;\n\n  complaints_id: any = '';\n  vehicle_id: any = '';\n  srth_id: any = '';\n  problem_id: any = '';\n  date_of_complaint: any = '';\n  date_of_reminder: any = '';\n  details: any = '';\n  km_reading: any = '';\n  status: any = '';\n  last_maint_id: any = '';\n  opt_counter: any = '';\n  vehicle_number : any = '';\n\n  isupdate: boolean = false;\n\n  vehicles: any = [];\n\n  complaints: any = [];\n\n  problems: any = [];\n\n  img : any = null;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, private modalCtrl: ModalController,\n    private codes: CodesProvider, private rest: RestProvider) {\n\n    var update = this.navParams.get(\"update\");\n\n    if (update == \"true\") {\n\n      var comp = this.navParams.get(\"selectedcomplaint\");\n\n      this.complaints_id = comp['complaints_id'];\n      this.vehicle_id = comp['vehicle_id'];\n      this.srth_id = comp['srth_id'];\n      this.problem_id = comp['problem_id'];\n      this.date_of_complaint = comp['date_of_complaint'];\n      this.date_of_reminder = comp['date_of_reminder'];\n      this.details = comp['details'];\n      this.km_reading = comp['km_reading'];\n      this.status = comp['status'];\n\n      this.isupdate = true;\n\n    }\n\n\n\n    var userinfo = JSON.parse(localStorage.getItem(this.codes.K_ACCOUNT_INFO));\n\n    var data = {\n      \"vehicle_owner_srth_id\": userinfo[0]['srth_id']\n    };\n    this.rest.post(this.codes.GET_VEHICLE_DETAILS, data).then(resp => {\n      if (resp['_ReturnCode'] == '0') {\n        this.vehicles = resp['data'];\n\n      }\n    });\n\n    // this.getcomplaints();\n  }\n\n  updatecomplaint() {\n    var data = {\n      \"complaints_id\": this.complaints_id,\n      \"vehicle_id\": this.vehicle_id,\n      \"srth_id\": this.srth_id,\n      \"problem_id\": this.problem_id,\n      \"date_of_complaint\": this.date_of_complaint,\n      \"date_of_reminder\": this.date_of_reminder,\n      \"details\": this.details,\n      \"km_reading\": this.km_reading,\n      \"status\": this.status,\n      \"last_maint_id\": \"srth-app\",\n      \"opt_counter\": \"0\",\n      \"problems\": this.problems\n    };\n\n    this.rest.post(this.codes.UPDATE_COMPLAINTS, data).then(resp => {\n      if (resp['_ReturnCode'] == '0') {\n        this.navCtrl.pop();\n      }\n    });\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad AddComplaintsPage');\n  }\n\n  \n\n  change(vehicleId) {\n    this.isSelectedBill = true;\n    for(let i=0;i<this.vehicles.length;i++){\n      if(this.vehicles[i]['vehicle_id'] == vehicleId){\n        this.vehicle_number = this.vehicles[i]['vehicle_number']\n      }\n    }\n  }\n\n  openCameraPopup() {\n    let cameraModalPage = this.modalCtrl.create('AllImageKhataPage',{\"isselect\":true,\"type\":\"all\"});\n\n    cameraModalPage.onDidDismiss(resp => {\n      this.img = JSON.parse(localStorage.getItem(\"selectedimage\"));\n    });\n    \n    cameraModalPage.present();\n  }\n\n\n\n  openProblemModal() {\n    let problemModal = this.modalCtrl.create('ProblemWorkPartModalPage');\n\n    problemModal.onDidDismiss(data => {\n\n      if (localStorage.getItem(\"problem_id\") != undefined) {\n        this.problems = JSON.parse(localStorage.getItem(\"problem_id\"));\n\n        var str = \"\";\n        for (let i = 0; i < this.problems.length; i++) {\n          str += this.problems[i]['problem_id'] + \" \";\n        }\n        this.problem_id = str;\n      }\n    });\n\n    problemModal.present();\n  }\n\n  openDetailPopup() {\n    let detailsModalPage = this.modalCtrl.create('DetailsModalPage');\n\n    detailsModalPage.onDidDismiss(data => {\n      this.details = localStorage.getItem(this.codes.DETAILS);\n    });\n\n    detailsModalPage.present();\n  }\n\n  selectThis(comp) {\n    this.complaints_id = comp['complaints_id'];\n    this.vehicle_id = comp['vehicle_id'];\n    this.srth_id = comp['srth_id'];\n    this.problem_id = comp['problem_id'];\n    this.date_of_complaint = comp['date_of_complaint'];\n    this.date_of_reminder = comp['date_of_reminder'];\n    this.details = comp['details'];\n    this.km_reading = comp['km_reading'];\n    this.status = comp['status'];\n\n    this.isupdate = true;\n  }\n\n  getcomplaints() {\n    var userinfo = JSON.parse(localStorage.getItem(this.codes.K_ACCOUNT_INFO));\n    var data = {\n      \"srth_id\": userinfo[0]['srth_id']\n    };\n    this.rest.post(this.codes.GET_COMPLAINTS, data).then(resp => {\n      if (resp['_ReturnCode'] == '0') {\n        this.complaints = resp['data'];\n        \n        for (let i = 0; i < this.complaints.length; i++) {\n          if (this.complaints[i]['problems'] != undefined) {\n            var str = \"\";\n            for (let j = 0; j < this.complaints[i]['problems'].length; j++) {\n              str += this.complaints[i]['problems'][j]['problem_id'] + \" \";\n            }\n            this.complaints[i]['problem_id'] = str;\n          }\n        }\n      }\n    });\n\n  }\n\n  openCalendarPopup() {\n    let calendarModalPage = this.modalCtrl.create('CalendarModalPage');\n\n    calendarModalPage.onDidDismiss(data=> {\n      this.date_of_complaint = localStorage.getItem(this.codes.DATE);\n    });\n\n    calendarModalPage.present();\n  }\n\n  openCalendarPopup2(){\n    let calendarModalPage = this.modalCtrl.create('CalendarModalPage');\n\n    calendarModalPage.onDidDismiss(data=> {\n      this.date_of_reminder = localStorage.getItem(this.codes.DATE);\n    });\n\n    calendarModalPage.present();\n  }\n\n  savecomplaint() {\n    var userinfo = JSON.parse(localStorage.getItem(this.codes.K_ACCOUNT_INFO));\n\n\n\n    var data = {\n      \"vehicle_id\": this.vehicle_id,\n      \"srth_id\": userinfo[0]['srth_id'],\n      \"problem_id\": this.problem_id,\n      \"date_of_complaint\": this.date_of_complaint,\n      \"date_of_reminder\": this.date_of_reminder,\n      \"details\": this.details,\n      \"km_reading\": this.km_reading,\n      \"status\": this.status,\n      \"last_maint_id\": \"srth-app\",\n      \"opt_counter\": \"0\",\n      \"problems\": this.problems\n    };\n\n    console.error(\"Check the problems : \" + JSON.stringify(data));\n\n    this.rest.post(this.codes.SAVE_COMPLAINTS, data).then(resp => {\n      if (resp['_ReturnCode'] == '0') {\n        this.complaints.push(data);\n        for (let i = 0; i < this.complaints.length; i++) {\n          if (this.complaints[i]['problems'] != undefined) {\n            var str = \"\";\n            for (let j = 0; j < this.complaints[i]['problems'].length; j++) {\n              str += this.complaints[i]['problems'][j]['problem_id'] + \" \";\n            }\n            this.complaints[i]['problem_id'] = str;\n          }\n        }\n      }\n    });\n\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/add-complaints/add-complaints.ts"],"sourceRoot":""}